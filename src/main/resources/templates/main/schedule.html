<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>ìŠ¤ì¼€ì¤„ê´€ë¦¬</title>
    <link rel="stylesheet" type="text/css" href="../../static/css/schedule.css" th:href="@{/css/schedule.css}">
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.8.0/main.min.css' rel='stylesheet' />
    <link rel="stylesheet" type="text/css" href="../../static/css/OzoneAlerts.css" th:href="@{/css/OzoneAlerts.css}">
    <style>
        input[type='text']{
          font-family: 'IM_Hyemin-Regular';
        }
        input[type='checkbox']{
          font-family: 'IM_Hyemin-Regular';
        }    
        input[type="date"]{
            font-family: 'IM_Hyemin-Regular';
        }
        input[type="select"]{
            font-family: 'IM_Hyemin-Regular';
        }
        button{
            font-family: 'IM_Hyemin-Regular';
        }
        .checkbox-container{
            font-family: 'IM_Hyemin-Regular';
        }
        #colorBox input{
            accent-color: #FFCA99;
        }
        select{
            font-family: 'IM_Hyemin-Regular';
        }

        :root{
          --fc-button-text-color: #fff;
          --fc-button-bg-color: #F6F6F6;
          --fc-button-border-color: #F6F6F6;
          --fc-button-hover-bg-color: #FDEEDC;
          --fc-button-hover-border-color: #FDEEDC;
          --fc-button-active-bg-color: #FFA857;
          --fc-button-active-border-color: #FFA857;
          --fc-today-bg-color: rgba(254, 236, 233, 0.50);

        }

        .container{
            width:65rem;
            margin-left:20px;
            display: flex;
            flex-wrap: wrap;
            flex-direction: row;
            /* display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr; */
        }

        .container>#calendar{
            flex:0 1 40rem;
            /* grid-column: span 2; */
        }
        
        .container>#calendar-side-area{
            /* grid-column: span 1; */
            flex:1 1 20rem;
            margin:5rem 1rem 0rem 1rem;
            display:flex;
            flex-direction: column;
            row-gap:0.5rem;
        }

        
        /* fullcalendar ì„¤ì • */

        .fc-header-toolbar{
            width: 40%;
        }

        .fc-dayGridMonth-button{
            border-radius:1.5rem;
            width:30%;
        }
        .fc-timeGridWeek-button{
            border-radius:1.5rem;
            width:30%;
        }
        .fc-timeGridDay-button{
            border-radius:1.5rem;
            width:30%;
        }

        .fc .fc-button-primary:not(:disabled).fc-button-active{

            border:none;
            margin:5% 2% 5% 1%;
        }

        .fc .fc-button-primary:focus, .fc .fc-button-primary:not(:disabled).fc-button-active:focus{

            border:none;
            box-shadow:none;
            margin:5% 2% 5% 1%;
        }

        .fc .fc-button-primary:not(:disabled).fc-button-active:hover{

            border:none;
            margin:5% 2% 5% 1%;
        }

        .fc .fc-button-primary[aria-pressed="false"]{
            color:#F1A661;
            border:none;
            margin:5% 2% 5% 1%;
        }
        .fc .fc-button-primary:hover{

            border:none;
            margin:5% 2% 5% 1%;
        }


        #fc-dom-1{
            width: 70%;
            margin-left: 2%;
            display: inline-block;
            font-size: 1.3rem;
            letter-spacing: .1rem;
            word-spacing: .2rem;
            font-weight: 600;
            vertical-align: middle;
        }

        .fc .fc-button .fc-icon{
            font-size:1rem;
            color:#EEEEEE;
        }
        .fc .fc-prev-button{
            background-color:#FFA857;
            display: inline-block;
            border-radius: 2rem;
            font-size:1rem;
            line-height:0.5rem;
            padding:0.2rem;
            vertical-align: middle;

        }
       .fc .fc-next-button{
            background-color:#FFA857;
            display: inline-block;
            border-radius: 2rem;
            font-size:1rem;
            line-height:0.5rem;
            padding:0.2rem;
            vertical-align: middle;

        }

        .fc-col-header-cell{
            height:5Vh;
        }

        .fc .fc-scrollgrid{
            border-radius: 0.5rem;
            border-style: hidden;
            box-shadow: 0px 0px 10px 5px rgba(0, 0, 0, 0.2);
        }

        .fc-col-header-cell{
            background-color:#FFBFA9;
        }

        .fc-timegrid-axis{
            background-color:#FFBFA9;
        }

        .fc-col-header-cell-cushion{
            margin-top:1rem;
            font-size:1rem;
        }

        .fc-daygrid-day-number{
            font-size:1rem;
        }

        .fc-timegrid-axis-cushion{
            font-size:1rem;
        }

        .fc-timegrid-slot-label-cushion{
            font-size:1rem;
        }


    </style>
</head>
<body>
    <div>
        <div class="leftBar" th:insert="~{main/sidebar :: sidebar}">
        </div>
    </div>
    <div class="maincontent">
        <div class="introduce">
            <h1>ìŠ¤ì¼€ì¤„ ê´€ë¦¬</h1>
            <h2 id="subT"><span th:text="${member.userId}">jojo39</span>ë‹˜ì˜ ì™¸ì¶œ ìŠ¤ì¼€ì¤„ ì…ë‹ˆë‹¤!</h2>
        </div>
        <div class="container">
            <div id="calendar"></div>
            <div id="calendar-side-area">
                <div id="calendar-form-container">
                    <div id="calendar-form-title">
                        <span>schedule maker</span>
                        <div>
                            <button id="modifyButton" name="modify" type="button" onclick="onModify(this)">âœï¸</button>
                            <button id="addButton" name="add" type="button" onclick="onAdd()">â•</button>
                        </div>
                    </div>
                    <form id="calendar-form">
                        <div class="formItem">
                            <label for="datepicker-box">ğŸ˜¶</label>
                            <div id="datepicker-box">
                                <input class="formElement" type="date" id="datepicker" name="datepicker" value="" readonly>
                            </div>
                        </div>
                        <div class="formItem">
                            <label for="timeslotBox">ğŸ˜¶</label>
                            <div id="timeslotBox">
                                <div>
                                    <select id="timeslot1" name="timeslot" readonly>
                                        <option value="">--</option>
                                    </select>
                                    <span>:</span>
                                    <select id="timeslot2" name="timeslot" readonly>
                                        <option value="">--</option>
                                    </select>
                                </div>
                                <div>
                                    <select id="timeslot3" name="timeslot" readonly>
                                        <option value="">--</option>
                                    </select>
                                    <span>:</span>
                                    <select id="timeslot4" name="timeslot" readonly>
                                        <option value="">--</option>
                                    </select>
                                </div>
                                <input type="hidden" id="sId">
                            </div>
                        </div>
                        <div class="formItem">
                            <label for="sTitleBox">ğŸ˜¶</label>
                            <div id="sTitleBox">
                               <input class="formElement" type="text" id="sTitle" name="sLocation" value="" readonly>
                            </div>
                        </div>
                       <div class="formItem">
                            <label for="sContentBox">ğŸ˜¶</label>
                            <div id="sContentBox">
                            <input class="formElement" type="text" id="sContent" name="sContent" value="" readonly>
                            </div>
                       </div>
                        <div class="formItem">
                            <label for="locationBox">ğŸ˜¶</label>
                            <div id="locationBox">
                                <div>
                                    <select id="userLocation">
                                        <option value="">ì‹œ/ë„ ì„ íƒ</option>
                                    </select>
                                </div>
                                <div>
                                    <select id="userLocation2">
                                        <option value="">ì‹œ/êµ°/êµ¬ ì„ íƒ</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="formItem">
                            <label id="changeColor" for="changeColor">ğŸ‘©â€ğŸ¨</label>
                            <div id="colorBox">
                                <div>
                                    <label for="red">â¤ï¸</label>
                                    <input class="formElement" type="radio" id="red"  name="sColor" value="red" readonly>
                                </div>
                               <div>
                                    <label for="orange">ğŸ§¡</label>
                                    <input class="formElement" type="radio" id="orange"  name="sColor" value="orange" readonly>
                               </div>
                                <div>
                                    <label for="yellow">ğŸ’›</label>
                                    <input class="formElement" type="radio" id="yellow"  name="sColor" value="yellow" readonly>
                                </div>
                                <div>
                                    <label for="green">ğŸ’š</label>
                                    <input class="formElement" type="radio" id="green"  name="sColor" value="green" readonly>
                                </div>
                                <div>
                                    <label for="sky blue">ğŸ’™</label>
                                    <input class="formElement" type="radio" id="sky blue"  name="sColor" value="sky blue" readonly>
                                </div>
                                <div>                          
                                    <label for="purple">ğŸ’œ</label>
                                    <input class="formElement" type="radio" id="purple"  name="sColor" value="purple" readonly>
                                </div>
                            </div>
                        </div>
                        
                        <div id="form-bottom-box" class="formItem">
                            <button id="submitButton" name="submitButton" type="submit" disabled>ğŸ”’</button>
                            <button id="rollbackButton" name="rollbackButton" type="button">ì·¨ì†Œ</button>
                        </div>

                    </form>
                </div>
                <div id="reminder-container">
                    <div id="reminder">
                        <div class="orange-title">
                            <div class="orange-title-text">reminder</div>
                        </div>
                        <div>
                            <label for="stimeslot">ğŸ˜¶</label>
                            <input type="text" id="stimeslot" name="stimeslot" value="11:00 - 22:00" readonly>
                        </div>
                        <div>
                            <label for="ssLoc">ğŸ˜¶</label>
                            <input type="text" id="ssLoc" name="ssLocation" value="ABCDEì‹œ ABCDEFêµ¬" readonly>
                        </div>
                        <div>
                            <label for="ssTitle">ğŸ˜¶</label>
                            <input type="text" id="ssTitle" name="ssTitle" value="ì¼ì •ì œëª©" readonly>
                        </div>
                        <div>
                            <label for="ssContent">ğŸ˜¶</label>
                            <input type="text" id="ssContent" name="ssContent" value="ì¼ì´ì‚¼ì‚¬ì˜¤ìœ¡ì¹ íŒ”êµ¬ì‹­ì¼ì´ì‚¼ì‚¬ì˜¤ìœ¡" readonly>
                        </div>
                        <div>
                            <label for="ssWeather">ğŸ˜¶</label>
                            <input type="text" id="ssWeather" name="ssContent" value="êµ¬ë¦„ë§ìŒ" readonly>
                        </div>
                        <button type="button">finish</button>
                    </div>

                </div>
                <div id="weather-check-container">
                    <div id="weather-check">
                        <div class="orange-title">
                            <div class="orange-title-text">weathers!</div>
                        </div>
                        <div class="weather-check-list">
                            <div>
                                <label for="cSky1">9ì‹œ</label>
                                <label for="cSky2">12ì‹œ</label>
                                <label for="cSky3">14ì‹œ</label>
                                <label for="cSky4">20ì‹œ</label>
                            </div>
                            <div>
                                <img class="cWeatherImg" id="cSky1" src="https://basmilius.github.io/weather-icons/production/line/all/star.svg">
                                <img class="cWeatherImg" id="cSky2" src="https://basmilius.github.io/weather-icons/production/line/all/star.svg">
                                <img class="cWeatherImg" id="cSky3" src="https://basmilius.github.io/weather-icons/production/line/all/star.svg">
                                <img class="cWeatherImg" id="cSky4" src="https://basmilius.github.io/weather-icons/production/line/all/star.svg">
                            </div>
                        </div>
                      
                    </div>

                </div>
            </div>
        </div>
    </div>
    <!-- ì‚¬ì´ë“œë°”htmlì— í˜ì´ì§€ë³„ ë²„íŠ¼ í™œì„±í™” ì¶”ê°€í•˜ê³  ì‹¶ì—ˆëŠ”ë° íƒ€ì„ë¦¬í”„ fragmentëŠ” ë©”ì¸í™”ë©´ìœ¼ë¡œ jsë¥¼ ëª» ê°€ì ¸ì™€ì„œ ëª¨ë“  í˜ì´ì§€ í•˜ë‹¨ì— ì¶”ê°€í•¨ -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.5/index.global.min.js'></script>
    <script type="text/javascript" src="../../static/js/OzoneAlerts.js" th:src="@{/js/OzoneAlerts.js}"></script>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        loadArea('loadParent',$(this));
        loadTime('init');
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: 'dayGridMonth',
          height: '80vh',
          selectable: false,
          allDaySlot:false,
          headerToolbar: {
            left: 'dayGridMonth,timeGridWeek,timeGridDay,title,prev,next',
            right: ''
          },
          events: [
                {
                  id: 'a',
                  title: 'my event',
                  start: '2023-03-11 00:00',
                  end: '2023-03-11 17:00',
                  backgroundColor: 'hsl(210, 100%, 80%)',
                  textColor: 'hsl(210, 90%, 30%)',
                  borderColor: 'hsl(210, 100%, 80%)',
                },
                {
                  id: 'c',
                  title: 'my event3',
                  start: '2023-04-25 00:00',
                  end: '2023-04-25 23:00',
                  backgroundColor: 'red',
                  borderColor: 'red',
                },
                {
                  id: 'b',
                  title: 'my event2',
                  start: '2023-03-11 16:00',
                  end: '2023-03-12 00:00',
                  backgroundColor: 'hsl(120, 100%, 80%)',
                  textColor: 'hsl(120, 90%, 30%)',
                  borderColor: 'hsl(120, 100%, 80%)',
                  display: 'auto',
                  extendedProps:{
                    location1:'ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ',
                    location2:'ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ',
                    description:'ì¹´í˜ì—ì„œ ì—ê·¸íƒ€ë¥´íŠ¸ ì„¸íŠ¸ ë¨¹ê¸°',
                    completed:true,
                  },
                },
          ],

          eventClick: function(info) {
                // eventSaveTemp(info);
                var eventId=info.event.id;
                var eventDate=info.event.start;
                var eventTitle=info.event.title;
                var eventStart=info.event.start;
                var eventEnd=info.event.end;
                var back=info.event.backgroundColor;
                var border=info.event.borderColor;
                var loc1=info.event.extendedProps.location1;
                var loc2=info.event.extendedProps.location2;
                var des=info.event.extendedProps.description;
                // console.log(eventId);
                // console.log(eventDate);
                // console.log(eventTitle);
                // console.log(eventStart);
                // console.log(eventEnd);
                // console.log(back);
                // console.log(border);
                // console.log(loc1);
                // console.log(loc2);
                // console.log(des);
                
                //íƒ€ì´í‹€ ,id , date, ë‚´ìš©ì„ í¼ì— ì „ë‹¬
                $('#sTitle').val(eventTitle);
                $('#sId').val(eventId);
                var eDate = new Date(eventDate);
                var y=eDate.getFullYear();
                var m=("0" + (eDate.getMonth() + 1)).slice(-2);
                var d = ("0" + eDate.getDate()).slice(-2);
                $('#datepicker').val(y+"-"+m+"-"+d);
                $('#sContent').val(des);

                //ì§€ì—­ê°’ì„ í¼ì˜ selectì— ì „ë‹¬
                loadArea('event',loc1,loc2);

                //ì‹œê°„ê°’ì„ í¼ì˜ selectì— ì „ë‹¬
                loadTime("");
                var formattedStartTime=new Date(eventStart);
                console.log(formattedStartTime+'ë‚ ì”¨ í¬ë§· ë³€ê²½ í…ŒìŠ¤íŠ¸');
                var startHour=formattedStartTime.getHours();
                console.log(startHour+'ë‚ ì”¨ í¬ë§· ë³€ê²½ í…ŒìŠ¤íŠ¸ hour');
                var startMin=(formattedStartTime.getMinutes()<10?'0':'') + formattedStartTime.getMinutes();
                console.log(startMin+'ë‚ ì”¨ í¬ë§· ë³€ê²½ í…ŒìŠ¤íŠ¸ min');
                var formattedEndTime=new Date(eventEnd);
                var endHour=formattedEndTime.getHours();
                var endMin=(formattedEndTime.getMinutes()<10?'0':'') + formattedEndTime.getMinutes();
                $('#timeslot1').val(startHour);
                $('#timeslot2').val(startMin);
                $('#timeslot3').val(endHour);
                $('#timeslot4').val(endMin);

                // ìƒ‰ìƒ ê°’ì´ hslì¸ ê²½ìš°
                var selectedColor=info.event.backgroundColor;
                if(selectedColor.includes('hsl')){
                    console.log('ì‘ë™í•¨');
                    if(selectedColor.slice(4,5)=='0'){
                        console.log('hsl red');
                        selectedColor='red';
                    }else if(selectedColor.slice(4,6)=='30'){
                        console.log('hsl orange');
                        selectedColor='orange';
                    }else if(selectedColor.slice(4,6)=='60'){
                        console.log('hsl yellow');
                        selectedColor='yellow';
                    }else if(selectedColor.slice(4,6)=='90'){
                        selectedColor='lime green';
                    }else{
                        switch(selectedColor.slice(4,7)){
                            case '120':
                            console.log('hsl green');
                            selectedColor='green';
                            break;
                            case '210':
                            console.log('hsl sky blue');
                            selectedColor='sky blue';
                            break;
                            case '270':
                            console.log('hsl purple');
                            selectedColor='purple';
                            break;
                        }
                    }
                }
                console.log("ìƒ‰ ì„ íƒ : "+selectedColor);
                document.forms['calendar-form'][selectedColor].checked=true;

                $('#rollbackButton').on("click",function(){
                    $('#sTitle').val(eventTitle);
                    $('#sId').val(eventId);
                    $('#datepicker').val(y+"-"+m+"-"+d);
                    loadTime("init");
                    $('#timeslot1').val(startHour);
                    $('#timeslot2').val(startMin);
                    $('#timeslot3').val(endHour);
                    $('#timeslot4').val(endMin);
                    $('#sContent').val(des);
                    loadArea('event',loc1,loc2);
                    document.forms['calendar-form'][selectedColor].checked=true;

                    var formElements=document.getElementsByClassName("formElement");
                    for(let i=0;i<formElements.length;i++){
                        formElements[i].setAttribute('readOnly','readonly');
                    }
                    
                    if(document.getElementById('addButton').disabled){
                        document.getElementById('addButton').disabled=false;
                    }

                    if(document.getElementById('modifyButton').disabled){
                        document.getElementById('modifyButton').disabled=false;
                    }
                    
                    $('#submitButton').text('ğŸ”’');
                    document.getElementById('submitButton').disabled=true;
                });
            },
        });
        calendar.render();
    });

    function loadTime(loadType,inputData){
        console.log('ì‹œê°„ ì„¤ì • í•¨ìˆ˜');
        $('#timeslot1').empty();
        $('#timeslot2').empty();
        $('#timeslot3').empty();
        $('#timeslot4').empty();
        $('#timeslot1').append('<option value=-->--</option>');
        $('#timeslot2').append('<option value=-->--</option>');
        $('#timeslot3').append('<option value=-->--</option>');
        $('#timeslot4').append('<option value=-->--</option>');

        for(let i=0;i<=24;i++){
            $('#timeslot1').append('<option value="'+i+'">'+i+'</option>');
            $('#timeslot3').append('<option value="'+i+'">'+i+'</option>');
        }
        for(let i=0;i<=5;i++){
            var min=i+'0';
            $('#timeslot2').append('<option value="'+min+'">'+min+'</option>');
            $('#timeslot4').append('<option value="'+min+'">'+min+'</option>');
        }

        if(loadType=='init'){
            //ì´ë²¤íŠ¸ë¥¼ ë°›ì•„ì˜¬ ê²½ìš° empty()ë¡œ ê°’ì´ ì‚¬ë¼ì§€ì§€ ì•Šê²Œ ì½”ë“œ ì‹¤í–‰ ìˆœì„œì— ì£¼ì˜
            $('#timeslot1').attr('disabled',true);
            $('#timeslot2').attr('disabled',true);
            $('#timeslot3').attr('disabled',true);
            $('#timeslot4').attr('disabled',true);
        }else{
            $('#timeslot1').removeAttr('disabled');
            $('#timeslot2').removeAttr('disabled');
            $('#timeslot3').removeAttr('disabled');
            $('#timeslot4').removeAttr('disabled');
        }

    }

    </script>

    <script type=text/javascript>
        function onModify(modifyButton){
            loadArea('loadParent',$('#userLocation').val(),$('#userLocation2').val());
            var formElements=document.getElementsByClassName("formElement");
            for(let i=0;i<formElements.length;i++){
                formElements[i].readOnly = false;
            }
            var addButton=document.getElementById('addButton');
            addButton.setAttribute("disabled", "");

            document.getElementById('submitButton').disabled=false;
            $('#submitButton').text('ë³€ê²½ì‚¬í•­ ì €ì¥');
        }
    </script>
    <script type=text/javascript>
        function onAdd(){
            //ì§€ì—­,ì‹œê°„ ì…€ë ‰íŠ¸ë°•ìŠ¤ ì„¸íŒ…
            $('#userLocation').val('');
            $('#userLocation2').val('');
            loadArea('loadParent',"","");
            loadTime("");
            //í¼ ì´ˆê¸°í™”
            var formElements=document.getElementsByClassName("formElement");
            for(let i=0;i<formElements.length;i++){
                formElements[i].value='';
                formElements[i].readOnly = false;
            }
            //ì¹¼ë¼ radioë°•ìŠ¤ ì´ˆê¸°ê°’ - red
            document.forms['calendar-form']['red'].checked=true; 
            //íˆë“ í•„ë“œ ì´ë²¤íŠ¸ ì•„ì´ë””ê°’ë„ ì´ˆê¸°í™”
            $('#sId').val('');
            
            var modifyButton=document.getElementById('modifyButton');
            modifyButton.setAttribute("disabled", "");

            document.getElementById('submitButton').disabled=false;
            $('#submitButton').text('ìƒì„±í•˜ê¸°');
        }
    </script>

    

<script>//ì‹œê°„ ì…€ë ‰íŠ¸ë°•ìŠ¤ í•¨ìˆ˜

    $('#timeslot1').on("change",function(){
        var value=$(this).val();
        $('#timeslot3').empty();
        if(value=='--'){
            loadTime("");
        }else{
            for(let i=value;i<=24;i++){
                $('#timeslot3').append('<option value="'+i+'">'+i+'</option>');
            }
        }   
    });

    $('#timeslot2').on("change",function(){
        changeSelectableMinutes();
    });
    $('#timeslot3').on("change",function(){
        changeSelectableMinutes();
    });

    function changeSelectableMinutes(){
        var value2=$('#timeslot2').val();
        $('#timeslot4').empty();
        var value2Sliced=parseInt(value2.slice(0,1),10);

        if($('#timeslot3').val()==$('#timeslot1').val()){
            for(let i=value2Sliced+1;i<=5;i++){
                var min=i+'0';
                $('#timeslot4').append('<option value="'+min+'">'+min+'</option>');
            }
        }else{
            for(let i=0;i<=5;i++){
                var min=i+'0';
                $('#timeslot4').append('<option value="'+min+'">'+min+'</option>');
            }
        }
    }

</script>

<script>//ì§€ì—­ ì…€ë ‰íŠ¸ë°•ìŠ¤ í•¨ìˆ˜ 
    
    $('#userLocation').on("change",function(){
        loadArea('loadChild',$(this),"");
    });
    function loadArea(selectedType,parentValue,childValue){
        $.ajax({
            url: "/region/api",
            dataType: "JSON",
            method: "GET"
        }).done(function(res){
            if(selectedType == 'loadParent'){//ì¼ì • ìƒì„±í•  ë•Œ
                console.log('loadParent');
                $('#userLocation1').empty();
                $('#userLocation2').empty();
                $.each(res, function (index,value){
                    var hasOption=$('#userLocation option[value="'+value.parentRegion+'"]').length;
                    if(hasOption==0){
                        if(value.parentRegion===parentValue){
                            $('#userLocation').append('<option value="'+value.parentRegion+'" selected>'+value.parentRegion+'</option>');
                        }else{
                            $('#userLocation').append('<option value="'+value.parentRegion+'">'+value.parentRegion+'</option>');
                        }

                    }
                    if(value.parentRegion===parentValue){
                        var hasOption2=$('#userLocation2 option[value="'+value.parentRegion+'"]').length;
                        if(hasOption2==0){
                            if(value.childRegion===childValue){
                                $('#userLocation2').append('<option value="'+value.childRegion+'" selected>'+value.childRegion+'</option>');
                            }else{
                                $('#userLocation2').append('<option value="'+value.childRegion+'">'+value.childRegion+'</option>');
                            }
                        }
                    }
                });
            }else if(selectedType == 'loadChild'){//userLocationì„ ì„ íƒí–ˆì„ ë•Œ,ì¼ì • ë³€ê²½í•  ë•Œ
                console.log('loadChild');
                var selectedValueText = $(parentValue).find('option:selected').text();
                $('#userLocation2').empty();
                $.each(res, function (index,value){

                    if(selectedValueText==value.parentRegion){

                        $('#userLocation2').append('<option value="'+value.childRegion+'">'+value.childRegion+'</option>');
                    }
                });
            }else if(selectedType=='event'){//ìº˜ë¦°ë”ì˜ ì¼ì •ì„ í´ë¦­í–ˆì„ ë•Œ
                $('#userLocation').empty();
                $('#userLocation2').empty();
                $('#userLocation').append('<option value="'+parentValue+'" selected>'+parentValue+'</option>');
                $('#userLocation2').append('<option value="'+childValue+'" selected>'+childValue+'</option>');
            }
        });
    }
</script>



    <script type="text/javascript" th:src="@{/js/menuactive.js}"></script>

</body>
</html>